(this["webpackJsonptesting-react-query-components"]=this["webpackJsonptesting-react-query-components"]||[]).push([[0],{89:function(t,e,r){"use strict";r.r(e);var n=r(1),c=r(67),a=r.n(c),i=r(100),s=r(111),o=r(101),u=r(108),d=r(107),l=r(109),j=r(102),h=r(103),p=r(110),b=r(106),x=r(7),f=function(t){var e,r=t.productId,n=(e=void 0===r?"1":r,Object(b.a)(["product",e],(function(){return k.getProductById(e)}),{retry:!1})),c=n.isLoading,a=n.isError,f=n.error,g=n.data;if(c)return Object(x.jsxs)(i.a,{children:[Object(x.jsx)(s.a,{}),Object(x.jsx)(o.a,{children:"Fetching Data..."})]});if(a)return Object(x.jsxs)(u.a,{status:"error",children:[Object(x.jsx)(u.c,{}),Object(x.jsx)(u.d,{mr:2,children:"Error"}),Object(x.jsx)(u.b,{children:null===f||void 0===f?void 0:f.message})]});var O=g||{},m=O.title,v=O.price,w=O.description,y=O.category,I=O.image;return Object(x.jsx)(i.a,{children:Object(x.jsxs)(d.a,{spacing:"3",children:[Object(x.jsx)(l.a,{src:I,boxSize:"150px","data-testid":"product-image"}),Object(x.jsx)(j.a,{borderRadius:"full",px:"2",colorScheme:"pink",children:y}),Object(x.jsx)(h.a,{size:"lg",children:m}),Object(x.jsx)(o.a,{children:w}),Object(x.jsxs)(p.a,{colorScheme:"blue",children:["Buy Now \u2022 $",v]})]})})},g=function(){var t=new URL(window.location.href).searchParams.get("id")||"1";return Object(x.jsx)(i.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"gray.200",children:Object(x.jsx)(i.a,{maxW:"lg",minW:"sm",borderRadius:"lg",overflow:"hidden",m:"10",p:"10",shadow:"xl",background:"white",textAlign:"center",children:Object(x.jsx)(f,{productId:t})})})},O=r(36),m=r.n(O),v=r(58),w=r(70),k=new function t(e){var r=this;Object(w.a)(this,t),this.apiUrl=void 0,this.makeApiCall=function(){var t=Object(v.a)(m.a.mark((function t(e){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(r.apiUrl).concat(e),{headers:{Accept:"application/json"}});case 2:if((n=t.sent).ok){t.next=11;break}return t.t0=Error,t.t1="Error from api call ".concat(e,": status=").concat(n.status," "),t.next=8,n.text();case 8:throw t.t2=t.sent,t.t3=t.t1.concat.call(t.t1,t.t2),new t.t0(t.t3);case 11:return c=new Promise((function(t,e){setTimeout(t,1e3)})),t.next=14,c;case 14:return t.abrupt("return",n.json());case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getProductById=function(){var t=Object(v.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.makeApiCall("/products/".concat(e));case 2:if(null===(n=t.sent)||void 0===n?void 0:n.id){t.next=5;break}throw new Error("Product not found");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.apiUrl=e}("https://fakestoreapi.com");function y(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g,{})})}var I=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,112)).then((function(e){var r=e.getCLS,n=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;r(t),n(t),c(t),a(t),i(t)}))},P=r(105),C=r(104),E=r(68),A=new C.a,B=document.getElementById("root");a.a.render(Object(x.jsx)(n.StrictMode,{children:Object(x.jsx)(E.a,{client:A,children:Object(x.jsx)(P.a,{children:Object(x.jsx)(y,{})})})}),B),I()}},[[89,1,2]]]);
//# sourceMappingURL=main.5fd174fb.chunk.js.map